!function(e,t){"object"==typeof exports&&"undefined"!=typeof module?module.exports=t():"function"==typeof define&&define.amd?define(t):e.vueFormValidator=t()}(this,function(){"use strict";var e="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},t=function(e,t){return t.split(".").reduce(function(e,t){if(e)return e[t]},e)},n=function(t,n,r){var o=n.split("."),i=o.length;return o.reduce(function(t,n,o){return t[n]=o===i-1?r:"object"===e(t[n])?t[n]:{},t[n]},t),t},r=function(e){return 0===e||!!e},o=function(e){var t=!0;for(var n in e)0===n.indexOf("$")||e[n].$valid||(t=!1);e.$valid=t},i=function(e){var t=e.opts,n=e.data,r=e.val,o=e.flag;if(t.regex){var i=t.regex.test(r);n.regex=i,i||(o=!1)}else n.regex=!0;if("function"==typeof t.fn){var f=!!t.fn(r);n.fn=f,f||(o=!1)}else n.fn=!0;if("number"==typeof t.length){var a=r.length===t.length;n.length=a,a||(o=!1)}else{if(n.length=!0,"number"==typeof t.min){var l=r.length>=t.min;n.min=l,l||(o=!1)}else n.min=!0;if("number"==typeof t.max){var u=r.length<=t.max;n.max=u,u||(o=!1)}else n.max=!0}return o},f=function(e){var f=e.model,a=e.val,l=e.errorObject,u=e.opts,c={};n(l,f,c);var s=!0;u.isRequired?(c.isRequired=r(a),a||(s=!1),s=i({opts:u,data:c,val:a,flag:s}).flag):(c.isRequired=!0,r(a)?s=i({opts:u,data:c,val:a,flag:s}).flag:(c.regex=!0,c.fn=!0,c.length=!0,c.min=!0,c.max=!0)),c.$valid=s;var v=void 0,p=f.split(".");if(p.length>=2){p.pop();var d=p.join(".");v=t(l,d)}else v=l;o(v)},a={};return a.install=function(e){e.prototype.$validator=function(e,n){var r=this;if("string"==typeof e&&(e=t(this,e)),!e)throw new Error("[vue-form-validator] errorObject not exist.");n.forEach(function(n){var o=n.model;if(/^[A-Za-z_]+[A-Za-z\d_.$]+?$/.test(o)){r.$watch(o,function(t){f({model:o,val:t,errorObject:e,opts:n})});var i=t(r,o);f({model:o,val:i,errorObject:e,opts:n})}})}},a});
